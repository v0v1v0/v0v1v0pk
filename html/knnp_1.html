<div class="container">

<table style="width: 100%;"><tr>
<td>knn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generic function to make a prediction for a time series.
If a knn model is provided as the first argument, knn_forecast
will be directly called. If single values are provided as k and d
as no parameter search can be perfomed, knn_forecast will be
called automatically. If no values are provided for k and/or d,
values 1 to 50 will be used by default.</h2>

<h3>Description</h3>

<p>Generic function to make a prediction for a time series.
If a knn model is provided as the first argument, knn_forecast
will be directly called. If single values are provided as k and d
as no parameter search can be perfomed, knn_forecast will be
called automatically. If no values are provided for k and/or d,
values 1 to 50 will be used by default.
</p>


<h3>Usage</h3>

<pre><code class="language-R">knn(
  y,
  k = 1:50,
  d = 1:50,
  initial = NULL,
  distance = "euclidean",
  error_measure = "MAE",
  weight = "proportional",
  v = 1,
  threads = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A time series or a trained kNN model generated by the
knn_param_search function. In case that a model is provided the knn_forecast
function will be automatically called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Values of k's to be analyzed or chosen k for knn forecasting.
Default value is 1 to 50.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Values of d's to be analyzed or chosen d for knn forecasting.
Default value is 1 to 50.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial</code></td>
<td>
<p>Variable that determines the limit of the known past for
the first instant predicted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>Type of metric to evaluate the distance between points.
Many metrics are supported: euclidean, manhattan, dynamic time warping,
camberra and others. For more information about the supported metrics check
the values that 'method' argument of function parDist (from parallelDist
package) can take as this is the function used to calculate the distances.
Link to package info: https://cran.r-project.org/web/packages/parallelDist
Some of the values that this argument can take are "euclidean", "manhattan",
"dtw", "camberra", "chord".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_measure</code></td>
<td>
<p>Type of metric to evaluate the prediction error.
Five metrics supported:
</p>

<dl>
<dt>ME</dt>
<dd>
<p>Mean Error</p>
</dd>
<dt>RMSE</dt>
<dd>
<p>Root Mean Squared Error</p>
</dd>
<dt>MAE</dt>
<dd>
<p>Mean Absolute Error</p>
</dd>
<dt>MPE</dt>
<dd>
<p>Mean Percentage Error</p>
</dd>
<dt>MAPE</dt>
<dd>
<p>Mean Absolute Percentage Error</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Type of weight to be used at the time of calculating the
predicted value with a weighted mean. Three supported: proportional,
average, linear.
</p>

<dl>
<dt>proportional</dt>
<dd>
<p>the weight assigned to each neighbor is inversely
proportional to its distance</p>
</dd>
<dt>average</dt>
<dd>
<p>all neighbors are assigned with the same weight</p>
</dd>
<dt>linear</dt>
<dd>
<p>nearest neighbor is assigned with weight k, second closest
neighbor with weight k-1, and so on until the least nearest
neighbor which is assigned with a weight of 1.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Variable to be predicted if given multivariate time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threads</code></td>
<td>
<p>Number of threads to be used when parallelizing, default is 1</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of errors, optimal k and d. All tested ks and ks and all
the used metrics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">knn(AirPassengers, 1:5, 1:3)
knn(LakeHuron, 1:10, 1:6)
</code></pre>


</div>