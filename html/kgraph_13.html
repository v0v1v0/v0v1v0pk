<div class="container">

<table style="width: 100%;"><tr>
<td>fit_embeds_to_pairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit embeds to pairs</h2>

<h3>Description</h3>

<p>Fit an embeddings matrix to a dataframe of known pairs of related concepts.
Depending on matrix dimension, either compute all pair-wise similarities, or
only those existing in the known pairs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_embeds_to_pairs(
  m_embeds,
  df_pairs,
  df_pairs_cols = 1:2,
  similarity = c("inprod", "cosine", "cov_simi", "norm_inprod"),
  threshold_projs = 0.9,
  max_concepts = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m_embeds</code></td>
<td>
<p>Embedding matrix, rownames must be able to be matched to
concepts in df_pairs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_pairs</code></td>
<td>
<p>Known relationships data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_pairs_cols</code></td>
<td>
<p>Columns of df_pairs for identifiers, that map to
m_embeds rownames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>similarity</code></td>
<td>
<p>Similarity measure to be computed. One of 'inprod' (inner
product), 'cosine', 'cov_simi' (covariance similarity),
'norm_inprod' (normalized inner product).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_projs</code></td>
<td>
<p>Specificity threshold to use for projections.
(default 0.9 is equivalent to 10 percent false positives,
and 0.95 to 5 percent false positives)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_concepts</code></td>
<td>
<p>Maximum number of concepts to compute all pair-wise
similarities</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List object with slots roc (pROC::roc return), sims and truth (to
recompute partial AUCs using pROC), threshold_5fp (5 percent false positive
threshold), n_concepts (length of concepts in embeddings), and
df_projs (data frame listing pair-wise concepts similarities above
threshold_projs).
</p>


</div>