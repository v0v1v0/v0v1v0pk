<div class="container">

<table style="width: 100%;"><tr>
<td>MapPolygon</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Choropleth maps</h2>

<h3>Description</h3>

<p>It allows to shade the polygons in proportion to any of the variables (records richness, observed richess, predicted richness, completeness and the slope) exported by the function KnowBPolygon in the file "Estimators".</p>


<h3>Usage</h3>

<pre><code class="language-R">MapPolygon(data, polygonname, var, shape=NULL, shapenames=NULL, admAreas=TRUE,
Area="World", minLon, maxLon, minLat, maxLat, int=30, colbg="#FFFFFF",
colcon="#C8C8C8", colf="black", pro=TRUE, inc=0.005, exclude=NULL, colexc=NULL,
colfexc="black", colscale=c("#C8FFFFFF","#64FFFFFF","#00FFFFFF","#64FF64FF",
"#C8FF00FF","#FFFF00FF","#FFC800FF","#FF6400FF","#FF0000FF"), colm="black",
legend.pos="y", breaks=9, xl=0, xr=0, yb=0, yt=0, asp, lab=NULL, xlab="Longitude",
ylab="Latitude", main=NULL, cex.main=1.6, cex.lab=1.4, cex.axis=1.2, cex.legend=0.9,
family="sans", font.main=2, font.lab=1, font.axis=1, lwdP=0.6, lwdC=0.1,
trans=c(1,1), log=c(0,0), ndigits=0, ini=NULL, end=NULL, jpg=FALSE, filejpg="Map.jpg")</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data file exported by the function KnowBPolygon named "Estimators" with the values of records, observed richness, predicted richness, completeness and slope for each area polygon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polygonname</code></td>
<td>
<p>A variable available in the data file with the names of the polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>A variable available in the data file with the values to be used for shading the polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>If the estimators in the function link[KnowBR]KnowBPolygon were calculated using an external shape file, it is necessary to indicate the file in this argument. It is not necessary to select any polygon within the file, just to load the whole shape file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapenames</code></td>
<td>
<p>Variable in the shapefile with the names of the polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>admAreas</code></td>
<td>
<p>If it is TRUE the border lines of the countries are depicted in the map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Area</code></td>
<td>
<p>Only if using RWizard. A character with the name of the administrative area or a vector with several administrative areas (countries, regions, etc.) or river basins. If it is "World" (default) the entire world is plotted. For using administrative areas or river basins, in addition to use RWizard, it is also necessary to replace data(world) by @_Build_AdWorld_ (see examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minLon, maxLon</code></td>
<td>
<p>Optionally it is possible to define the minimum and maximum longitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minLat, maxLat</code></td>
<td>
<p>Optionally it is possible to define the minimum and maximum latitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int</code></td>
<td>
<p>Number of intervals into which the variable is splited.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colbg</code></td>
<td>
<p>Background color of the map (in some cases this is the sea).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colcon</code></td>
<td>
<p>Background color of the administrative areas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colf</code></td>
<td>
<p>Color of administrative areas border.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pro</code></td>
<td>
<p>If it is TRUE an automatic calculation is made in order to correct the aspect ratio y/x along latitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inc</code></td>
<td>
<p>Adds some room along the map margins with the limits x and y thus not exactly the limits of the selected areas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>A character with the name of the administrative area or a vector with several administrative areas that may be plotted with a different color on the map (only if using RWizard).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colexc</code></td>
<td>
<p>Background color of areas selected in the argument exclude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colfexc</code></td>
<td>
<p>Color of borders of the areas selected in the argument exclude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colscale</code></td>
<td>
<p>Palette color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colm</code></td>
<td>
<p>Color of the polygons without information when using when using an external shape file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.pos</code></td>
<td>
<p>Whether to have a horizontal "x" or vertical "y" color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>Number of breakpoints of the color legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xl,xr,yb,yt</code></td>
<td>
<p>The lower left and upper right coordinates of the color legend in user coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asp</code></td>
<td>
<p>The y/x aspect ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab</code></td>
<td>
<p>A numerical vector of the form c(x, y) which modifies the default way that axes are annotated. The values of x and y give the (approximate) number of tickmarks on the x and y axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A title for the X axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>A title for the Y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>An overall title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>The magnification to be used for main titles relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>The magnification to be used for X and Y labels relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>The magnification to be used for axis annotation relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.legend</code></td>
<td>
<p>The magnification to be used for the color scale relative to the current setting of cex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>The name of a font family for drawing text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.main</code></td>
<td>
<p>The font to be used for plot main titles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.lab</code></td>
<td>
<p>The font to be used for x and y labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.axis</code></td>
<td>
<p>The font to be used for axis annotation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwdP</code></td>
<td>
<p>Line width of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwdC</code></td>
<td>
<p>Line width of the borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>It is possible to multiply or divide the dataset by a value. For a vector with two values, the first may be 0 (divide) or 1 (multiply), and the second number is the value of the division or multiplication.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>It is possible to apply a logarithmic transformation to the dataset. For a vector with two values, the first may be 0 (do not log transform) or 1 (log transformation), and the second number is the value to be added in case of log transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndigits</code></td>
<td>
<p>Number of decimals in legend of the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ini</code></td>
<td>
<p>Minimum to be considered in the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>Maximum to be considered in the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jpg</code></td>
<td>
<p>If TRUE the plots are exported to jpg files instead of using the windows device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filejpg</code></td>
<td>
<p>Name of the jpg file.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>FUNCTIONS</strong>
</p>
<p>The function color.legend of the package plotrix (Lemon et al., 2014) is used for building the map.
</p>
<p><strong>EXAMPLE</strong>
</p>
<p>Completeness of the records of freshwater fish species in all countries of the world.
</p>

<table><tr>
<td style="text-align: center;">
<img src="../help/figures/F5.jpg" width="50" alt="F5.jpg">
</td>
</tr></table>
<h3>Value</h3>

<p>A map is obtained.</p>


<h3>References</h3>

<p>Lemon, J. (2006) Plotrix: a package in the red light district of R. <em>R-News</em>, 6(4):8-12.
</p>
<p>Lemon, J., Bolker, B., Oom, S., Klein, E., Rowlingson, B., Wickham, H., Tyagi, A., Eterradossi, O., Grothendieck, G., Toews, M., Kane, J., Turner, R., Witthoft, C., Stander, J., Petzoldt, T., Duursma, R., Biancotto, E., Levy, O., Dutang, C., Solymos, P., Engelmann, R., Hecker, M., Steinbeck, F., Borchers, H., Singmann, H., Toal, T. &amp; Ogle, D. (2015). Various plotting functions. R package version 3.6-1. Available at: https://CRAN.R-project.org/package=plotrix.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

data(Estimators)
data(adworld)
MapPolygon(data=Estimators, polygonname="Area", var="Completeness",
colscale=rev(heat.colors(100)))

</code></pre>


</div>