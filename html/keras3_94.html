<div class="container">

<table style="width: 100%;"><tr>
<td>clear_session</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Resets all state generated by Keras.</h2>

<h3>Description</h3>

<p>Keras manages a global state, which it uses to implement the Functional
model-building API and to uniquify autogenerated layer names.
</p>
<p>If you are creating many models in a loop, this global state will consume
an increasing amount of memory over time, and you may want to clear it.
Calling <code>clear_session()</code> releases the global state: this helps avoid
clutter from old models and layers, especially when memory is limited.
</p>
<p>Example 1: calling <code>clear_session()</code> when creating models in a loop
</p>
<div class="sourceCode r"><pre>for (i in 1:100) {
  # Without `clear_session()`, each iteration of this loop will
  # slightly increase the size of the global state managed by Keras
  model &lt;- keras_model_sequential()
  for (j in 1:10) {
    model &lt;- model |&gt; layer_dense(units = 10)
  }
}

for (i in 1:100) {
  # With `clear_session()` called at the beginning,
  # Keras starts with a blank state at each iteration
  # and memory consumption is constant over time.
  clear_session()
  model &lt;- keras_model_sequential()
  for (j in 1:10) {
    model &lt;- model |&gt; layer_dense(units = 10)
  }
}
</pre></div>
<p>Example 2: resetting the layer name generation counter
</p>
<div class="sourceCode r"><pre>layers &lt;- lapply(1:10, \(i) layer_dense(units = 10))

new_layer &lt;- layer_dense(units = 10)
print(new_layer$name)
</pre></div>
<div class="sourceCode"><pre>## [1] "dense_10"

</pre></div>
<div class="sourceCode r"><pre>clear_session()
new_layer &lt;- layer_dense(units = 10)
print(new_layer$name)
</pre></div>
<div class="sourceCode"><pre>## [1] "dense"

</pre></div>


<h3>Usage</h3>

<pre><code class="language-R">clear_session(free_memory = TRUE)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>free_memory</code></td>
<td>
<p>Whether to call Python garbage collection.
It's usually a good practice to call it to make sure
memory used by deleted objects is immediately freed.
However, it may take a few seconds to execute, so
when using <code>clear_session()</code> in a short loop,
you may want to skip it.</p>
</td>
</tr></table>
<h3>Value</h3>

<p><code>NULL</code>, invisibly, called for side effects.
</p>


<h3>See Also</h3>


<ul><li> <p><a href="https://keras.io/api/utils/config_utils#clearsession-function">https://keras.io/api/utils/config_utils#clearsession-function</a>
</p>
</li></ul>
<p>Other backend: <br><code>config_backend()</code> <br><code>config_epsilon()</code> <br><code>config_floatx()</code> <br><code>config_image_data_format()</code> <br><code>config_set_epsilon()</code> <br><code>config_set_floatx()</code> <br><code>config_set_image_data_format()</code> <br></p>
<p>Other utils: <br><code>audio_dataset_from_directory()</code> <br><code>config_disable_interactive_logging()</code> <br><code>config_disable_traceback_filtering()</code> <br><code>config_enable_interactive_logging()</code> <br><code>config_enable_traceback_filtering()</code> <br><code>config_is_interactive_logging_enabled()</code> <br><code>config_is_traceback_filtering_enabled()</code> <br><code>get_file()</code> <br><code>get_source_inputs()</code> <br><code>image_array_save()</code> <br><code>image_dataset_from_directory()</code> <br><code>image_from_array()</code> <br><code>image_load()</code> <br><code>image_smart_resize()</code> <br><code>image_to_array()</code> <br><code>layer_feature_space()</code> <br><code>normalize()</code> <br><code>pad_sequences()</code> <br><code>set_random_seed()</code> <br><code>split_dataset()</code> <br><code>text_dataset_from_directory()</code> <br><code>timeseries_dataset_from_array()</code> <br><code>to_categorical()</code> <br><code>zip_lists()</code> <br></p>


</div>